<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics & Charts</title>
    <link rel="stylesheet" href="../static/css/analytics.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <header>
        <h1>TASTE BUDS</h1>
        <nav>
            <a href="dashboard.html">Dashboard</a>
            <a href="orders.html">Orders</a>
            <a href="billing.html">Billing</a>
            <a href="stock.html">Stock</a>
            <a href="log_ingredients.html">Log Ingredients</a>
            <a href="purchase_orders.html">Purchase Orders</a>
            <a href="daily_sales.html">Daily Sales</a>
            <a href="monthly_sales.html">Monthly Sales</a>
            <a href="expenses_report.html">Expenses Report</a>
            <a href="analytics.html" class="active">Analytics</a>
        </nav>
    </header>

    <main>
        <section class="analytics-container">
            <h2>Business Analytics Dashboard</h2>

            <div class="charts-grid">
                <!-- Sales Trend Chart -->
                <div class="chart-card">
                    <h3>Monthly Sales Trend (â‚¹)</h3>
                    <canvas id="salesChart"></canvas>
                </div>

                <!-- Ingredient Stock Levels -->
                <div class="chart-card">
                    <h3>Current Ingredient Stock</h3>
                    <canvas id="stockChart"></canvas>
                </div>

                <!-- Expense Distribution -->
                <div class="chart-card">
                    <h3>Expense Distribution</h3>
                    <canvas id="expenseChart"></canvas>
                </div>

                <!-- Sales vs Expenses -->
                <div class="chart-card">
                    <h3>Sales vs Expenses Comparison</h3>
                    <canvas id="compareChart"></canvas>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>Â© 2025 Restaurant Automation System | Managed by Admin</p>
    </footer>

    <script>
        // ðŸ“ˆ Monthly Sales Trend (Line Chart)
        const salesCtx = document.getElementById('salesChart');
        new Chart(salesCtx, {
            type: 'line',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct'],
                datasets: [{
                    label: 'Total Sales (â‚¹)',
                    data: [45000, 52000, 49000, 60000, 75000, 82000, 87000, 92000, 98000, 105000],
                    borderColor: '#2ecc71',
                    backgroundColor: 'rgba(46, 204, 113, 0.2)',
                    fill: true,
                    tension: 0.3
                }]
            },
            options: { responsive: true, plugins: { legend: { display: false } } }
        });

        // ðŸ¥¬ Ingredient Stock (Bar Chart)
        const stockCtx = document.getElementById('stockChart');
        new Chart(stockCtx, {
            type: 'bar',
            data: {
                labels: ['Rice', 'Oil', 'Paneer', 'Tomato', 'Spices', 'Cheese'],
                datasets: [{
                    label: 'Stock (kg)',
                    data: [120, 80, 50, 100, 40, 30],
                    backgroundColor: ['#f1c40f', '#e67e22', '#2ecc71', '#3498db', '#9b59b6', '#1abc9c']
                }]
            },
            options: { responsive: true, plugins: { legend: { display: false } } }
        });

        // ðŸ’° Expense Distribution (Pie Chart)
        const expenseCtx = document.getElementById('expenseChart');
        new Chart(expenseCtx, {
            type: 'pie',
            data: {
                labels: ['Ingredients', 'Salaries', 'Utilities', 'Maintenance', 'Misc.'],
                datasets: [{
                    label: 'Expenses',
                    data: [45, 25, 10, 12, 8],
                    backgroundColor: ['#e74c3c', '#3498db', '#f1c40f', '#9b59b6', '#1abc9c']
                }]
            },
            options: { responsive: true }
        });

        // ðŸ“Š Sales vs Expenses Comparison (Bar Chart)
        const compareCtx = document.getElementById('compareChart');
        new Chart(compareCtx, {
            type: 'bar',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                datasets: [
                    {
                        label: 'Sales (â‚¹)',
                        data: [45000, 52000, 49000, 60000, 75000, 82000],
                        backgroundColor: '#2ecc71'
                    },
                    {
                        label: 'Expenses (â‚¹)',
                        data: [30000, 32000, 35000, 40000, 42000, 45000],
                        backgroundColor: '#e74c3c'
                    }
                ]
            },
            options: { responsive: true, scales: { y: { beginAtZero: true } } }
        });
    </script>
</body>
</html>
